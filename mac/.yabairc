yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# tail -f /tmp/yabai_$USER.err.log
# tail -f /tmp/yabai_$USER.out.log
yabai -m config debug_output on

yabai -m config layout bsp
yabai -m config external_bar all:24:0

function setup_space {
  local i="$1"

  space=$(yabai -m query --spaces --space "$i")
  if [ -z "$space" ]; then
    yabai -m space --create
  fi
}

setup_space 1
setup_space 2
setup_space 3
setup_space 4
setup_space 5
setup_space 6
setup_space 7
setup_space 8
setup_space 9
setup_space 10

yabai -m rule --add app="System Settings" manage=off
yabai -m rule --add app="^Raycast$" manage=off
